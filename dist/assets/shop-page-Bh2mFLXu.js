import{j as s,d as w,u as f,P as m,L as j,p as C,y as b,m as _,n as $,q as S,r as v,g as A}from"./index-BP-RX_Oe.js";import{E as k}from"./empty-content-C-7DlC9a.js";const p=({title:e,children:r})=>s.jsx("div",{className:"filter-item",children:s.jsxs("div",{className:"shop-filter-item",children:[s.jsx("h2",{children:e}),r]})}),N=({items:e,name:r})=>s.jsx("ul",{children:e.map((n,i)=>s.jsx("li",{children:s.jsxs("label",{className:"topcoat-radio-button__label",children:[n.label,s.jsx("input",{type:"radio",name:r}),s.jsx("span",{className:"topcoat-radio-button"})]})},i))}),P=({searchValue:e,onSearchChange:r})=>{const n=[{label:"All prices"},{label:"$50 – $100 (1)"},{label:"$100 – $200 (21)"},{label:"$200 – $300 (13)"},{label:"$300 – $400 (3)"},{label:"$400 and more (2)"}],i=[{label:"Small Jar"},{label:"Large Jar"},{label:"Medium Jar"},{label:"Extra large Jar"}];Array.from({length:7},(c,h)=>({value:30}));const o=[{label:"Flower"},{label:"Hill"},{label:"Forest"},{label:"Queen"}];return s.jsx("div",{className:"col-lg-4",children:s.jsxs("div",{className:"shop-filter-wrap",children:[s.jsx(p,{title:"Search",children:s.jsx("div",{className:"shop-filter-search",children:s.jsx("form",{children:s.jsxs("div",{children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Search",value:e,onChange:r}),s.jsx("button",{type:"submit",children:s.jsx("i",{className:"ti-search"})})]})})})}),s.jsx(p,{title:"Price",children:s.jsx(N,{items:n,name:"topcoat"})}),s.jsx(p,{title:"Size",children:s.jsx(N,{items:i,name:"topcoat2"})}),s.jsx(p,{title:"Category",children:s.jsx(N,{items:o,name:"topcoat3"})})]})})},F=({products:e,isLoading:r,onSortChange:n})=>{const i=w(),{id:o}=f(a=>a.cart),{items:c}=f(a=>a==null?void 0:a.wishlist),h=async a=>{if(o)try{const l=await C.addItemToCart({product_id:a,quantity:1},o);((l==null?void 0:l.status)===201||(l==null?void 0:l.status)===200)&&(b.success("Added Item to cart"),i(_(o)))}catch(l){b.error("Add to cart Failed"),console.error(l)}else i($({product_id:a,quantity:1}))},u=a=>{i(S({id:a})),setTimeout(()=>{b.success("Added To Wishlist")},400)};return r?s.jsx(m,{}):s.jsxs("div",{className:"col-lg-8",children:[s.jsxs("div",{className:"shop-section-top-inner",children:[s.jsx("div",{className:"shoping-list",children:s.jsxs("ul",{className:"nav nav-mb-3 main-tab",id:"tab",role:"tablist",children:[s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link active",id:"grid-tab","data-bs-toggle":"pill","data-bs-target":"#grid",type:"button",role:"tab","aria-controls":"grid","aria-selected":"true",children:s.jsx("i",{className:"fa fa-th "})})}),s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link",id:"list-tab","data-bs-toggle":"pill","data-bs-target":"#list",type:"button",role:"tab","aria-controls":"list","aria-selected":"false",children:s.jsx("i",{className:"fa fa-list "})})})]})}),s.jsx("div",{className:"short-by",children:s.jsxs("ul",{children:[s.jsx("li",{children:"Sort By :"}),s.jsx("li",{children:s.jsxs("select",{name:"sort",onChange:n,children:[s.jsx("option",{value:"date-posted",children:"Date posted"}),s.jsx("option",{value:"price-high-low",children:"Price high-low"}),s.jsx("option",{value:"price-low-high",children:"Price low-high"})]})})]})})]}),s.jsxs("div",{className:"tab-content",children:[s.jsx("div",{className:"tab-pane fade show active",id:"grid",role:"tabpanel","aria-labelledby":"grid-tab",children:s.jsx("div",{className:"product-wrap",children:s.jsx("div",{className:"row align-items-center",children:(e==null?void 0:e.length)>0?e==null?void 0:e.map((a,l)=>{var t,d;return s.jsx("div",{className:"col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12",children:s.jsxs("div",{className:"product-item",children:[s.jsxs("div",{className:"product-img",children:[s.jsx("img",{src:((d=(t=a==null?void 0:a.images)==null?void 0:t[0])==null?void 0:d.image)||"/assets/img/product/default-product.png",alt:"Product Image"}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx("a",{style:{cursor:"pointer"},"data-bs-toggle":"tooltip","data-bs-html":"true",title:"Add to Cart",onClick:()=>h(a==null?void 0:a.id),children:s.jsx("i",{className:"fi flaticon-shopping-cart"})})}),s.jsx("li",{"data-bs-toggle":"modal","data-bs-target":"#popup-quickview",children:s.jsx(j,{to:`/product/${a==null?void 0:a.id}`,"data-bs-toggle":"tooltip","data-bs-html":"true",title:"Quick View",children:s.jsx("i",{className:"fi ti-eye"})})}),s.jsx("li",{children:s.jsx("a",{"data-bs-toggle":"tooltip","data-bs-html":"true",className:"cursor-pointer",title:"Add to Wishlist",onClick:()=>u(a==null?void 0:a.id),children:s.jsx("i",{className:"fi flaticon-like",style:{color:c!=null&&c.some(x=>x.id===(a==null?void 0:a.id))?"#910000":""}})})})]}),s.jsx("div",{className:"offer-thumb",children:s.jsx("span",{children:"-28%"})})]}),s.jsxs("div",{className:"product-content",children:[s.jsx("h3",{children:s.jsx(j,{to:`/product/${a==null?void 0:a.id}`,children:a==null?void 0:a.name})}),s.jsxs("div",{className:"product-btm",children:[s.jsx("div",{className:"product-price",children:s.jsxs("ul",{children:[s.jsxs("li",{children:["$",a==null?void 0:a.unit_price]}),s.jsx("li",{})]})}),s.jsx("div",{className:"product-ratting",children:s.jsx("ul",{children:(a==null?void 0:a.average_rating)&&[...Array(5)].map((x,g)=>s.jsx("li",{children:s.jsx("i",{className:`fa ${g<(a==null?void 0:a.average_rating)?"fa-star":"fa-star-o"}`,"aria-hidden":"true"})},g))})})]})]})]})},l)}):s.jsx(k,{})})})}),s.jsx("div",{className:"tab-pane fade product-list",id:"list",role:"tabpanel","aria-labelledby":"list-tab",children:s.jsx("div",{className:"product-wrap",children:s.jsx("div",{className:"row align-items-center",children:(e==null?void 0:e.length)>0&&(e==null?void 0:e.map((a,l)=>{var t,d,x;return s.jsx("div",{className:"col-xl-12 col-12",children:s.jsxs("div",{className:"product-item",children:[s.jsxs("div",{className:"product-img",style:{minHeight:"100%"},children:[s.jsx("div",{className:"",style:{height:"100%",objectFit:"cover",width:"200px"},children:s.jsx("img",{src:((d=(t=a==null?void 0:a.images)==null?void 0:t[0])==null?void 0:d.image)||"/assets/img/product/default-product.png",alt:"Product Image"})}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx("a",{"data-bs-toggle":"tooltip","data-bs-html":"true",style:{cursor:"pointer"},title:"Add to Cart",onClick:()=>h(a==null?void 0:a.id),children:s.jsx("i",{className:"fi flaticon-shopping-cart"})})}),s.jsx("li",{"data-bs-toggle":"modal","data-bs-target":"#popup-quickview",children:s.jsx(j,{to:`/product/${a==null?void 0:a.id}`,"data-bs-toggle":"tooltip","data-bs-html":"true",title:"Quick View",children:s.jsx("i",{className:"fi ti-eye"})})}),s.jsx("li",{children:s.jsx("a",{"data-bs-toggle":"tooltip","data-bs-html":"true",title:"Add to Wishlist",onClick:()=>u(a==null?void 0:a.id),children:s.jsx("i",{className:"fi flaticon-like"})})})]}),s.jsx("div",{className:"offer-thumb",children:s.jsx("span",{children:"-28%"})})]}),s.jsxs("div",{className:"product-content",style:{minHeight:"250px"},children:[s.jsx("h3",{children:s.jsx(j,{to:`/product/${a==null?void 0:a.id}`,children:a==null?void 0:a.name})}),s.jsxs("div",{className:"product-btm",children:[s.jsx("div",{className:"product-price",children:s.jsxs("ul",{children:[s.jsxs("li",{children:["$",a==null?void 0:a.unit_price]}),s.jsx("li",{})]})}),s.jsx("div",{className:"product-ratting",children:s.jsx("ul",{children:(a==null?void 0:a.average_rating)&&[...Array(5)].map((g,y)=>s.jsx("li",{children:s.jsx("i",{className:`fa ${y<(a==null?void 0:a.average_rating)?"fa-star":"fa-star-o"}`,"aria-hidden":"true"})},y))})})]}),s.jsxs("p",{className:"product-description",children:[" ",((x=a==null?void 0:a.description)==null?void 0:x.length)>150?`${a.description.slice(0,150)}...`:a==null?void 0:a.description]}),s.jsx("div",{className:"",style:{display:"flex",alignItems:"center",justifyContent:"end"},children:s.jsx(j,{to:`/product/${a==null?void 0:a.id}`,className:"btn theme-btn",tabIndex:"0",style:{padding:"5px 30px",textTransform:"capitalize"},children:"View"})})]})]})},l)}))})})})]})]})},L=()=>{const e=w(),[r,n]=v.useState(""),[i,o]=v.useState("");v.useEffect(()=>{e(A())},[e]);const{products:c=[],isLoading:h}=f(l=>l.product),a=[...c==null?void 0:c.filter(l=>{var t,d;return(d=(t=l==null?void 0:l.name)==null?void 0:t.toLowerCase())==null?void 0:d.includes(r==null?void 0:r.toLowerCase())})].sort((l,t)=>{switch(i){case"date-posted":return new Date(t.created_at)-new Date(l.created_at);case"price-high-low":return parseFloat(t.unit_price)-parseFloat(l.unit_price);case"price-low-high":return parseFloat(l.unit_price)-parseFloat(t.unit_price);default:return 0}});return s.jsx("div",{className:"shop-section",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"row",children:[s.jsx(P,{searchValue:r,onSearchChange:l=>n(l.target.value)}),s.jsx(F,{products:a,isLoading:h,onSortChange:l=>o(l.target.value)})]})})})},E=()=>s.jsx("div",{children:s.jsx(L,{})});export{E as default};
