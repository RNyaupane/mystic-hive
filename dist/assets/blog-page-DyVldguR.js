import{r as h,j as s,D as u,u as v,P as w,L as m,b as f,E as y}from"./index-CvIzpCtl.js";import{E as C}from"./empty-content-iPEisu8l.js";const P=()=>{const[l,n]=h.useState([]),o=async()=>{try{const a=await u.getTags();n(a==null?void 0:a.data)}catch(a){console.warn(a)}};return h.useEffect(()=>{o()},[]),console.log("HGI",l),s.jsxs("div",{className:"widget tag-widget",children:[s.jsx("h3",{children:"Tags"}),s.jsx("ul",{children:l==null?void 0:l.map((a,r)=>s.jsx("li",{children:s.jsx("a",{className:"cursor-pointer",style:{textTransform:"capitalize"},children:a==null?void 0:a.name})},r))})]})},S=()=>{const{isLoading:l,blogs:n=[]}=v(e=>e.blog),[o,a]=h.useState(""),[r,g]=h.useState(1),x=5;if(l)return s.jsx(w,{});const c=n==null?void 0:n.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())),p=r*x,N=p-x,t=c==null?void 0:c.slice(N,p),j=e=>g(e);return s.jsx("section",{className:"blog-pg-section s2 section-padding",children:s.jsx("div",{className:"container",children:(t==null?void 0:t.length)<1?s.jsx("div",{style:{height:"90vh"},children:s.jsx(C,{title:"No Blogs Found"})}):s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col col-lg-8 order-lg-2",children:s.jsxs("div",{className:"blog-posts clearfix w-100 h-100",children:[t==null?void 0:t.map(e=>{var i,d;return s.jsxs("div",{className:"post",children:[s.jsx("div",{className:"entry-media",children:s.jsx("img",{src:((i=e.images[0])==null?void 0:i.image)||"/assets/img/blog/img-7.jpg",alt:((d=e.images[0])==null?void 0:d.alt_text)||"Blog Image"})}),s.jsxs("div",{className:"details",children:[s.jsxs("ul",{className:"entry-meta",children:[s.jsxs("li",{children:["Category: ",e.category.name]}),s.jsx("li",{children:new Date(e.created_at).toDateString()})]}),s.jsx("h3",{children:s.jsx(m,{to:`/blog/${e.id}`,children:e.name})}),s.jsxs("p",{children:[e.description.substring(0,150),"..."]}),s.jsx(m,{to:`/blog/${e.id}`,className:"read-more",children:"Read More.."})]})]},e.id)}),(t==null?void 0:t.length)>0&&s.jsx("div",{className:"pagination-wrapper pagination-wrapper-left",children:s.jsxs("ul",{className:"pg-pagination",children:[s.jsx("li",{children:s.jsx("a",{onClick:()=>j(r-1),disabled:r===1,children:s.jsx("i",{className:"ti-arrow-left"})})}),Array.from({length:Math.ceil((c==null?void 0:c.length)/x)}).map((e,i)=>s.jsx("li",{className:r===i+1?"active":"",children:s.jsx("a",{onClick:()=>j(i+1),children:i+1})},i)),s.jsx("li",{children:s.jsx("a",{onClick:()=>j(r+1),disabled:r===Math.ceil((c==null?void 0:c.length)/x),children:s.jsx("i",{className:"ti-arrow-right"})})})]})})]})}),s.jsx("div",{className:"col col-lg-4 order-lg-1 col-12",children:s.jsxs("div",{className:"blog-sidebar",children:[s.jsxs("div",{className:"widget search-widget",children:[s.jsx("h3",{children:"Search"}),s.jsx("form",{onSubmit:e=>{e.preventDefault(),g(1)},children:s.jsxs("div",{children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Search...",value:o,onChange:e=>a(e.target.value)}),s.jsx("button",{type:"submit",children:s.jsx("i",{className:"ti-search"})})]})})]}),s.jsxs("div",{className:"widget category-widget",children:[s.jsx("h3",{children:"Categories"}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsxs("a",{href:"#",children:["Mad Honey ",s.jsx("span",{children:"(10)"})]})}),s.jsx("li",{children:s.jsxs("a",{href:"#",children:["Raw Honey ",s.jsx("span",{children:"(7)"})]})})]})]}),s.jsxs("div",{className:"widget recent-post-widget",children:[s.jsx("h3",{children:"Recent Posts"}),s.jsx("div",{className:"posts",children:n==null?void 0:n.slice(0,3).map(e=>{var i,d;return s.jsxs("div",{className:"post",children:[s.jsx("div",{className:"img-holder",children:s.jsx("img",{src:((i=e.images[0])==null?void 0:i.image)||"/assets/img/recent-posts/img-1.jpg",alt:((d=e.images[0])==null?void 0:d.alt_text)||"Recent Post"})}),s.jsx("div",{className:"details",children:s.jsx("h4",{children:s.jsx(m,{to:`/blog/${e.id}`,children:e.name})})})]},e.id)})})]}),s.jsx(P,{})]})})]})})})},E=()=>{const l=f();return h.useEffect(()=>{l(y())},[]),s.jsx(s.Fragment,{children:s.jsx(S,{})})};export{E as default};
